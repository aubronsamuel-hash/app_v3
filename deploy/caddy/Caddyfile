:8080 {
	@api path /api* /auth* /missions* /templates* /planning* /admin* /me* /accounting*
	handle @api {
		reverse_proxy http://api:8001
	}

	handle_path / {
		reverse_proxy http://front:5173
	}

	log {
		output stdout
		format console
		level INFO
	}

	# Example: protect admin area, use basic_auth (not basicauth)
	# basic_auth /admin* {
	#   admin $2y$10$REPLACE_WITH_BCRYPT_HASH
	# }
}

# OPTIONAL TLS vhost for h2/h3 (enable and map 443:443)
# coulisses.localhost {
#   encode gzip
#   @api path /api* /auth* /missions* /templates* /planning* /admin* /me* /accounting*
#   handle @api {
#     reverse_proxy http://api:8001
#   }
#   handle_path / {
#     reverse_proxy http://front:5173
#   }
#   tls internal
#   log {
#     output stdout
#     format console
#     level INFO
#   }
# }
